(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(9),i=a.n(s),h=(a(16),a(2)),o=a(3),u=a(6),l=a(5),b=a(4),d=a(8),p=a.n(d),j=a(10),v={key:"2f66048c0472a33ffb7149e006c911b5",base:"http://api.openweathermap.org/data/2.5/"},f=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).key=v.key,e.base=v.base,e.lang="pt_br",e.unit="metric",e}return Object(o.a)(a,[{key:"fetchWeather",value:function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.base,"weather?q=").concat(t,"&lang=").concat(this.lang,"&units=").concat(this.unit,"&appid=").concat(this.key));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(r.a.Component),g=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getDate",value:function(){var e=(new Date).toLocaleString("pt-br",{year:"numeric",month:"short",weekday:"long",day:"numeric"});return this.date=e.charAt(0).toUpperCase()+e.slice(1),this.date}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"location-box",children:[Object(n.jsxs)("div",{className:"location",children:[this.props.city,", ",this.props.country]}),Object(n.jsx)("div",{className:"date",children:this.getDate()})]})}}]),a}(r.a.Component),m=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).metric="\xb0C",e}return Object(o.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"weather-box",children:[Object(n.jsx)("div",{className:"temp",children:"".concat(this.props.temp).concat(this.metric)}),Object(n.jsx)("div",{className:"weather",children:this.props.desc})]})}}]),a}(r.a.Component),y=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).getApi=new f,e.state={value:"Itaja\xed"},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.keyPress=e.keyPress.bind(Object(u.a)(e)),e.fetchApi(),e}return Object(o.a)(a,[{key:"changeBackground",value:function(e){switch(this.bg="warm",!0){case e<=10:this.bg="cold",this.setBackground(this.bg);break;case e>=11&&e<=25:this.bg="warm",this.setBackground(this.bg);break;case e>=26&&e<=30:this.bg="hot",this.setBackground(this.bg);break;case e>=31:this.bg="hotter",this.setBackground(this.bg);break;default:this.setBackground(this.bg)}}},{key:"setBackground",value:function(e){for(var t=this.app.classList;t.length>1;)t.remove(t.item(1));this.app.classList.add(e)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"keyPress",value:function(e){if(13===e.keyCode){if(this.prevQuery===this.state.value)return;this.fetchApi()}}},{key:"fetchApi",value:function(){var e=this;this.getApi.fetchWeather(this.state.value).then((function(t){e.weather={city:t.name,country:t.sys.country,temp:Math.round(t.main.temp),desc:t.weather[0].description},e.prevQuery=e.state.value,e.app=document.querySelector(".App"),e.changeBackground(e.weather.temp),e.forceUpdate()})).catch((function(){alert("Por favor, insira uma localiza\xe7\xe3o v\xe1lida")}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"weather-container",children:[Object(n.jsx)("div",{className:"search-box",children:Object(n.jsx)("input",{type:"text",className:"search-bar",autoFocus:!0,placeholder:"Insira uma localiza\xe7\xe3o e pressione 'enter'",value:this.state.value,onKeyDown:this.keyPress,onChange:this.handleChange})}),this.weather?Object(n.jsxs)("div",{className:"weather-main",children:[Object(n.jsx)(g,{city:this.weather.city,country:this.weather.country}),Object(n.jsx)(m,{temp:this.weather.temp,desc:this.weather.desc})]}):""]})}}]),a}(r.a.Component);var O=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("main",{children:Object(n.jsx)(y,{})})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),k()}},[[18,1,2]]]);
//# sourceMappingURL=main.9ff0cb30.chunk.js.map